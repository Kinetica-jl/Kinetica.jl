<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solving · Kinetica.jl</title><meta name="title" content="Solving · Kinetica.jl"/><meta property="og:title" content="Solving · Kinetica.jl"/><meta property="twitter:title" content="Solving · Kinetica.jl"/><meta name="description" content="Documentation for the Kinetica.jl package and its modular kinetic calculators."/><meta property="og:description" content="Documentation for the Kinetica.jl package and its modular kinetic calculators."/><meta property="twitter:description" content="Documentation for the Kinetica.jl package and its modular kinetic calculators."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.svg" alt="Kinetica.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Kinetica.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><a class="tocitem" href="../../../getting-started/">Getting Started</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../../tutorials/arbitrary-conditions/">Arbitrary Simulation Conditions</a></li><li><a class="tocitem" href="../../../tutorials/ode-solution/">ODE Solution</a></li><li><a class="tocitem" href="../../../tutorials/kinetic-calculators/">Kinetic Calculators</a></li><li><a class="tocitem" href="../../../tutorials/iterative-exploration/">Iterative CRN Exploration</a></li><li><a class="tocitem" href="../../../tutorials/results-analysis/">Results Analysis</a></li><li><a class="tocitem" href="../../../tutorials/filtering-crns/">Filtering CRNs</a></li><li><a class="tocitem" href="../../../tutorials/saving-loading/">Saving &amp; Loading</a></li><li><a class="tocitem" href="../../../tutorials/logging/">Logging</a></li></ul></li><li><span class="tocitem">Developing with Kinetica</span><ul><li><a class="tocitem" href="../../../development/crn-representation/">CRN Representation</a></li><li><a class="tocitem" href="../../../development/condition-profiles/">Condition Profiles</a></li><li><a class="tocitem" href="../../../development/calculator-interface/">Calculator Interface</a></li><li><a class="tocitem" href="../../../development/implementation-details/">Implementation Details</a></li></ul></li><li><span class="tocitem">API</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox" checked/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Kinetica.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../exploration/">Exploration</a></li><li class="is-active"><a class="tocitem" href>Solving</a><ul class="internal"><li><a class="tocitem" href="#Simulation-Parameters"><span>Simulation Parameters</span></a></li><li><a class="tocitem" href="#Kinetic-Calculators-(Kinetica.jl)"><span>Kinetic Calculators (Kinetica.jl)</span></a></li><li><a class="tocitem" href="#Solvers"><span>Solvers</span></a></li><li><a class="tocitem" href="#Reaction-Filtering"><span>Reaction Filtering</span></a></li></ul></li><li><a class="tocitem" href="../conditions/">Conditions</a></li><li><a class="tocitem" href="../analysis/">Analysis</a></li><li><a class="tocitem" href="../openbabel/">Open Babel</a></li><li><a class="tocitem" href="../rdkit/">RDKit</a></li><li><a class="tocitem" href="../utilities/">Utilities</a></li></ul></li><li><a class="tocitem" href="../../kineticakpm/">KineticaKPM.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Kinetica.jl</a></li><li class="is-active"><a href>Solving</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Solving</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Kinetica-jl/Kinetica.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/main/docs/src/api/kinetica/solving.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="api_solving"><a class="docs-heading-anchor" href="#api_solving">Kinetica.jl API</a><a id="api_solving-1"></a><a class="docs-heading-anchor-permalink" href="#api_solving" title="Permalink"></a></h1><h2 id="Simulation-Parameters"><a class="docs-heading-anchor" href="#Simulation-Parameters">Simulation Parameters</a><a id="Simulation-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Parameters" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.ODESimulationParams" href="#Kinetica.ODESimulationParams"><code>Kinetica.ODESimulationParams</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Container for ODE-driven simulation parameters.</p><p>Contains fields for:</p><ul><li>Simulation timespan (must match time unit used in an attached calculator) (<code>tspan</code>)</li><li>Initial concentrations of species, either as a Dict of certain species or a Vector of all species (<code>u0</code>)</li><li>DifferentialEquations ODE solver (<code>solver</code>)</li><li>Whether to use ModelingToolkit to formulate an analytical Jacobian (<code>do_jac=true</code>)</li><li>Whether to use ModelingToolkit to formulate a sparse problem (<code>do_sparse=true</code>)</li><li>Absolute tolerance of ODE solver (<code>abstol=1e-10</code>)</li><li>Relative tolerance of ODE solver (<code>reltol=1e-8</code>)</li><li>Whether to use adaptive solver tolerance (<code>adaptive_tols=true</code>)</li><li>Whether to update solver tolerances after successful solve with adaptive tolerance (<code>update_tols=false</code>)</li><li>Whether to break solution into chunks of size <code>solve_chunkstep</code> to avoid floating point underflow (<code>solve_chunks=true</code>)</li><li>Global timestep at which solution should be reinitialised when <code>solve_chunks=true</code> (<code>solve_chunkstep=1e-3</code>)</li><li>Maximum number of ODE solver iterations (<code>maxiters=1e5</code>)</li><li>Whether to explicitly disallow negative values in the solver (<code>ban_negatives=false</code>)</li><li>Whether to display progress bars - requires <code>TerminalLogger</code> initialisation (<code>progress=false</code>)</li><li>Time interval to interpolate solution data on (<code>save_interval=nothing</code>)</li><li>Cutoff below which reactions with low rate constants are removed from the network (<code>low_k_cutoff=:auto</code>)</li><li>Whether to allow a vector <code>u0</code> to be shorter than the number of species in the network (<code>allow_short_u0=false</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/params.jl#L3-L24">source</a></section></article><h2 id="Kinetic-Calculators-(Kinetica.jl)"><a class="docs-heading-anchor" href="#Kinetic-Calculators-(Kinetica.jl)">Kinetic Calculators (Kinetica.jl)</a><a id="Kinetic-Calculators-(Kinetica.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#Kinetic-Calculators-(Kinetica.jl)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.PrecalculatedArrheniusCalculator" href="#Kinetica.PrecalculatedArrheniusCalculator"><code>Kinetica.PrecalculatedArrheniusCalculator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Arrhenius theory kinetic calculator for precalculated reactions.</p><p>Kinetic calculator that uses the Arrhenius equation to determine rates of reaction. Requires prior specification of reaction activation energies (<code>Ea</code>) and Arrhenius prefactors (<code>A</code>), will not calculate/predict these internally.</p><p>Implemented conditions:</p><ul><li>Temperature (<code>T</code>, unit: K)</li></ul><p>Requires:</p><ul><li>Activation energies (<code>Ea</code>, unit: J/mol)</li><li>Arrhenius prefactors (<code>A</code>, unit: mol dm^-3 s^-1 assuming bimolecular reactions)</li></ul><p>Has support for dispatching with/without a maximum rate constant <code>k_max</code> and scaling by time unit <code>t_unit</code> (assuming rates are provided in units of /s).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/calculator.jl#L152-L170">source</a></section></article><h2 id="Solvers"><a class="docs-heading-anchor" href="#Solvers">Solvers</a><a id="Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Solvers" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.StaticODESolve" href="#Kinetica.StaticODESolve"><code>Kinetica.StaticODESolve</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Static kinetic CRN solver type.</p><p>Combines all parameter inputs, conditions, a calculator and a set of reaction finters into a single type to be passed to the solver.</p><p>All conditions in the provided <code>ConditionSet</code> must be static  (defined as a single number), and also must be compatible with the provided calculator.</p><p>Allows for optional specification of <code>RxFilter</code>. If not defined, creates a filter that allows all reactions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/methods.jl#L6-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.VariableODESolve" href="#Kinetica.VariableODESolve"><code>Kinetica.VariableODESolve</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Variable kinetic CRN solver type.</p><p>Combines all parameter inputs, conditions, a calculator and a set of reaction finters into a single type to be passed to the solver.</p><p>Conditions in the provided <code>ConditionSet</code> must be compatible with the calculator and can be a combination of static and  variable. However, this will throw an error if all conditions  are static, as a <code>StaticODESolve</code> should be used instead.</p><p>Allows for optional specification of <code>RxFilter</code>. If not defined, creates a filter that allows all reactions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/methods.jl#L41-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.solve_network" href="#Kinetica.solve_network"><code>Kinetica.solve_network</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve_network(method::StaticODESolve, sd, rd[, copy_network, return_integrator])</code></pre><p>Solve a network with static kinetics.</p><p>Automatically dispatches to the correct method based on the value of <code>method.pars.solve_chunks</code>, as chunkwise solution requires a significantly different approach.</p><p>Setting <code>copy_network=true</code> generates a <code>deepcopy</code> of the original network in <code>rd</code> and <code>sd</code> and uses these in the solution, to avoid side effects from calculators modifying the original network that is passed in. The copied (modified) network is returned as part of the  resulting <code>ODESolveOutput</code>.</p><p>Setting <code>return_integrator=true</code> sets up and returns the underlying integrator without solving (i.e. at  <code>t = method.pars.tspan[1]</code>), allowing for manual stepping through the solution. Note that chunkwise solutions implement many reinitialisations of this integrator, which will have to be mirrored in the calling script to get the same results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/methods.jl#L77-L99">source</a></section><section><div><pre><code class="language-julia hljs">sol = solve_network(method::VariableODESolve, sd, rd[, copy_network, return_integrator])</code></pre><p>Solve a network with variable kinetics.</p><p>Automatically dispatches to the correct method based on the value of <code>method.pars.solve_chunks</code>, as chunkwise solution requires a significantly different approach.</p><p>Setting <code>copy_network=true</code> generates a <code>deepcopy</code> of the original network in <code>rd</code> and <code>sd</code> and uses these in the solution, to avoid side effects from calculators modifying the original network that is passed in. The copied (modified) network is returned as part of the  resulting <code>ODESolveOutput</code>.</p><p>Setting <code>return_integrator=true</code> sets up and returns the underlying integrator without solving (i.e. at  <code>t = method.pars.tspan[1]</code>), allowing for manual stepping through the solution. Note that chunkwise solutions implement many reinitialisations of this integrator, which will have to be mirrored in the calling script to get the same results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/methods.jl#L295-L317">source</a></section></article><h2 id="Reaction-Filtering"><a class="docs-heading-anchor" href="#Reaction-Filtering">Reaction Filtering</a><a id="Reaction-Filtering-1"></a><a class="docs-heading-anchor-permalink" href="#Reaction-Filtering" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kinetica.RxFilter" href="#Kinetica.RxFilter"><code>Kinetica.RxFilter</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Data container for CRN filters.</p><p>Defines a set of functions which can be used on a network to construct a set of masks of reactions. These reactions can then be excluded from a network, or their inverse can be taken to exclude all other reactions form a network.</p><p>Contains fields for:</p><ul><li>Array of filter functions, each taking a tuple of <code>::SpeciesData</code> and <code>::RxData</code> as arguments (<code>filters</code>)</li><li>Whether to remove or keep masked reactions (<code>keep_filtered</code>)</li></ul><p>Can be constructed blank (<code>rf = RxFilter()</code>) to obtain a mask of all reactions, which are then kept. Can also be constructed as  <code>rf = RxFilter(filters)</code> to default to removing the filtered reactions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Kinetica-jl/Kinetica.jl/blob/8cbada62b61b40c8176b8d8e9f87d68390b22605/src/solving/filters.jl#L1-L16">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../exploration/">« Exploration</a><a class="docs-footer-nextpage" href="../conditions/">Conditions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Friday 5 April 2024 14:56">Friday 5 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
